(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-acea"],{"9ld9":function(t,e,a){},Rr1R:function(t,e,a){"use strict";var n=a("9ld9");a.n(n).a},jC48:function(t,e,a){"use strict";a.r(e);var n=a("t3Un"),l=a("Qyje"),i=a.n(l);var r={name:"userList",data:function(){return{tableData:[],imageFile:null}},methods:{getUserList:function(){var t=this;Object(n.a)({url:"/user/getUserList",method:"get"}).then(function(e){t.tableData=e.data}).catch(function(t){console.log(t)})},levelFormatter:function(t){var e=t.level;return 1==e?"青铜会员":2==e?"白银会员":3==e?"黄金会员":4==e?"铂金会员":5==e?"钻石会员":6==e?"王者会员":"至尊会员"},activateFormatter:function(t){return t.activate?"已激活":"未激活"},handleClick:function(t){},activateVIP:function(t){var e=this;(function(t){return Object(n.a)({url:"/user/activateVIP",method:"post",data:i.a.stringify({phone:t})})})(t.phone).then(function(t){e.$notify.success({title:"提示",message:t.data}),e.getUserList()}).catch(function(){})},openFileSelect:function(){this.$refs.file.click()},sendCardIDImage:function(t){this.imageFile=t.target.files[0],this.imageFile.size>1048576||function(t){var e=new FormData;return e.append("file",t),Object(n.a)({url:"/user/activateVIPByImage",method:"post",data:e},{headers:{"Content-Type":"multipart/form-data"}})}(this.imageFile).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}},created:function(){this.getUserList()}},c=(a("Rr1R"),a("KHd+")),o=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("用户列表")]),t._v(" "),a("div",{staticStyle:{"text-indent":"30px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.openFileSelect}},[t._v("激活会员卡")]),t._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file",attrs:{type:"file",accept:"image/*",id:"file"},on:{input:function(e){t.sendCardIDImage(e)}}})],1),t._v(" "),a("br"),t._v(" "),a("div",{attrs:{align:"center"}},[a("el-table",{staticStyle:{width:"95%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"phone",label:"身份证"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"password",label:"密码"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"balance",label:"余额"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"level",formatter:t.levelFormatter,label:"会员等级"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"activate",formatter:t.activateFormatter,label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createtime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),e.row.activate?t._e():a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.activateVIP(e.row)}}},[t._v("激活会员")])]}}])})],1)],1)])},[],!1,null,"27e74e01",null);o.options.__file="userList.vue";e.default=o.exports}}]);